# i3 config file (v4)

# Font
font pango:monospace 8

# ===== Basic Configs ===== #
set $mod Mod4
set $execn exec --no-startup-id

# Gruvbox colors
set $bg #282828
set $red #fb4934
set $green #b8bb26
set $yellow #fabd2f
set $blue #83a598
set $purple #d3869b
set $aqua #8ec07c
set $orange #fe8019
set $gray #a89984
set $fg #ebdbb2

# Set window borders
default_border pixel 1
for_window [class="firefox"] border none
for_window [class="libreoffice"] border none

# Set gaps (requires i3-gaps)
gaps inner 5
gaps outer 5
workspace $ws2 gaps inner 0
workspace $ws2 gaps outer 0
workspace $ws4 gaps inner 0
workspace $ws4 gaps outer 0

# ===== Keybinds ===== #
# bindcode --release <keycode> to bind single key press
# can use `xev` to find keycodes

# i3 control
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec "i3-msg exit"
bindsym $mod+q kill
bindsym $mod+f fullscreen toggle
bindsym $mod+semicolon split toggle
#bindsym $mod+b layout stacking
#bindsym $mod+n layout tabbed
bindsym $mod+m layout toggle split
# Use Mouse+$mod to drag floating windows
floating_modifier $mod
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle

# Movement
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+Left move left
bindsym $mod+Down move down
bindsym $mod+Up move up
bindsym $mod+Right move right
#bindsym $mod+a focus parent
#bindsym $mod+d focus child

# Resize
bindsym $mod+i resize grow height 10 px or 10 ppt
bindsym $mod+u resize shrink height 10 px or 10 ppt
bindsym $mod+o resize grow width 10 px or 10 ppt
bindsym $mod+y resize shrink width 10 px or 10 ppt

# Program shortcuts
bindsym $mod+Return exec $TERMINAL
bindsym $mod+Space $execn dmenu_run
bindsym $mod+w exec $BROWSER, focus
bindsym $mod+r exec $TERMINAL -e ranger
bindsym $mod+x $execn lock-screen
bindsym $mod+Shift+x $execn lock-screen -c

# Scripts
bindsym $mod+Shift+q $execn exit-options
bindsym $mod+grave $execn list-icons
bindsym $mod+Shift+grave $execn list-colors
bindsym $mod+F9 $execn mount-drive
bindsym $mod+F10 $execn umount-drive
#bindsym $mod+F11
#bindsym $mod+F12

# Fn keys
bindsym XF86AudioMute $execn pulsemixer --toggle-mute && sigblock 1
bindsym XF86AudioRaiseVolume $execn pulsemixer --change-volume +1 && sigblock 1
bindsym Shift+XF86AudioRaiseVolume $execn pulsemixer --change-volume +10 && sigblock 1
bindsym XF86AudioLowerVolume $execn pulsemixer --change-volume -1 && sigblock 1
bindsym Shift+XF86AudioLowerVolume $execn pulsemixer --change-volume -10 && sigblock 1
bindsym XF86MonBrightnessUp $execn xbacklight +1 && sigblock 2
bindsym Shift+XF86MonBrightnessUp $execn xbacklight +10 && sigblock 2
bindsym XF86MonBrightnessDown $execn xbacklight -1 && sigblock 2
bindsym Shift+XF86MonBrightnessDown $execn xbacklight -10 && sigblock 2
#bindsym XF86AudioMicMute
#bindsym XF86RFKill

# ===== Window Colors ===== #
# CLASS                 BORDER      BACKGROUND      TEXT        INDICATOR   CHILD_BORDER
client.focused          $bg         $bg             $bg         $gray       $aqua
client.unfocused        $bg         $bg             $bg         $gray       $bg
client.focused_inactive $bg         $bg             $bg         $gray       $bg
client.urgent           $red        $red            $bg         $red        $red
client.placeholder      #000000     #0c0c0c         #ffffff     #000000     #0c0c0c
client.background       #ffffff

# ===== Workspaces ===== #
# Define names for workspaces
set $ws1 "1:"
set $ws2 "2:"
set $ws3 "3:"
set $ws4 "4:"
set $ws5 "5:"
set $ws6 "6:"
set $ws7 "7:"
set $ws8 "8:"
set $ws9 "9:"
set $ws10 "10:"


# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10
bindsym $mod+Shift+j workspace prev
bindsym $mod+Shift+k workspace next

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10
bindsym $mod+Shift+h move container to workspace prev
bindsym $mod+Shift+l move container to workspace next

# reserve workspaces for certain programs
# NOTE: use xprop to get program class
assign [class="firefox"] $ws2
assign [class="libreoffice"] $ws4

# ===== Bar ===== #
bar {
    #font pango:monospace 8
    status_command i3blocks
    position top
    #separator_symbol "<your separator>"

    # strips numbers from workspaces with names of form [n]:[name]
    strip_workspace_numbers yes

    # define status bar colors
    colors {
        # Block colors
        background $bg
        statusline $fg
        separator $fg

        # Workspace selection colors
        # CLASS             BORDER      BACKGROUND      TEXT
        focused_workspace   $aqua       $aqua           $bg
        inactive_workspace  $bg         $bg             $fg
        active_workspace    $bg         $bg             $fg
        urgent_workspace    $orange     $orange         $bg
    }
}

# ===== Scratchpads ===== #
for_window [instance="calc"] floating enable, move scratchpad, resize set 1280 720, border pixel 2
$execn $TERMINAL --name calc -e R -q
bindsym $mod+a [instance="calc"] scratchpad show; [instance="calc"] move position center

for_window [instance="scratch"] floating enable, move scratchpad, resize set 1280 720, border pixel 2
$execn $TERMINAL --name scratch
bindsym $mod+s [instance="scratch"] scratchpad show; [instance="scratch"] move position center

for_window [instance="popup"] floating enable, resize set 1280 720, border pixel 2

# ===== i3 Startup ===== #
# exec will load at startup
# exec_always will load evertime i3 is restarted
$execn compton
$execn dunst
$execn nextcloud
$execn update-bar
exec_always --no-startup-id set-wallpaper
